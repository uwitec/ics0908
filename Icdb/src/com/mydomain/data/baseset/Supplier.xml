<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="Supplier">
	<select id="selectSupplierCount" resultClass="com.mydomain.bean.baseset.SupplierBean">
		SELECT
		count(*) as countValue 
		from SUPPLIER
		WHERE
		SUPPLIER.ISENABLED!=0 AND
		(locate(#supplierCode#,SUPPLIER.SUPPLIERCODE )>0 OR 
		locate(#supplierName# ,SUPPLIERNAME )>0 OR
		locate(#supplierAddress# ,SUPPLIERADDRESS )>0 OR
		locate(#supplierPhone# ,SUPPLIERPHONE )>0 OR
		locate(#supplierFax# ,SUPPLIERFAX )>0 OR
		locate(#supplierZipCode#,SUPPLIERZIPCODE )>0 OR 
		locate(#supplierTaxFileNumber# ,SUPPLIERTAXFILENUMBER )>0 OR
		locate(#supplierRemark#,SUPPLIERREMARK )>0)

	</select>
	<select id="selectSupplierDef"	resultClass="com.mydomain.bean.baseset.SupplierBean">
		SELECT 
		SUPPLIERCODE, SUPPLIERNAME, SUPPLIERADDRESS,
		SUPPLIERPHONE, SUPPLIERFAX, SUPPLIERZIPCODE,
		SUPPLIERTAXFILENUMBER, SUPPLIERREMARK,jsonField
		FROM SUPPLIER
		WHERE
		SUPPLIER.ISENABLED!=0 AND
		(locate(#supplierCode#,SUPPLIER.SUPPLIERCODE )>0 OR 
		locate(#supplierName# ,SUPPLIERNAME )>0 OR
		locate(#supplierAddress# ,SUPPLIERADDRESS )>0 OR
		locate(#supplierPhone# ,SUPPLIERPHONE )>0 OR
		locate(#supplierFax# ,SUPPLIERFAX )>0 OR
		locate(#supplierZipCode#,SUPPLIERZIPCODE )>0 OR 
		locate(#supplierTaxFileNumber# ,SUPPLIERTAXFILENUMBER )>0 OR
		locate(#supplierRemark#,SUPPLIERREMARK )>0)
		limit #startValue#,#endValue#
	</select>
	<select id="getSupplierBean" parameterClass="String"
		resultClass="com.mydomain.bean.baseset.SupplierBean">
		SELECT 
		SUPPLIERCODE, SUPPLIERNAME, SUPPLIERADDRESS,
		SUPPLIERPHONE, SUPPLIERFAX, SUPPLIERZIPCODE,
		SUPPLIERTAXFILENUMBER, SUPPLIERREMARK,jsonField
		FROM SUPPLIER
		WHERE 
	 	SUPPLIER.ISENABLED!=0 AND
		SUPPLIER.SUPPLIERCODE=#supplierCode#
	</select>
	<select id="selectAllSupplierBean"
		resultClass="com.mydomain.bean.baseset.SupplierBean">
		SELECT 
		SUPPLIERCODE, SUPPLIERNAME, SUPPLIERADDRESS,
		SUPPLIERPHONE, SUPPLIERFAX, SUPPLIERZIPCODE,
		SUPPLIERTAXFILENUMBER, SUPPLIERREMARK,jsonField
		WHERE 
		SUPPLIER.ISENABLED=1
	</select>
	<insert id="insertSupplierBean"
		parameterClass="com.mydomain.bean.baseset.SupplierBean">
		INSERT INTO SUPPLIER
		(SUPPLIERCODE,SUPPLIERNAME,SUPPLIERADDRESS,SUPPLIERPHONE,
		SUPPLIERFAX,SUPPLIERZIPCODE,SUPPLIERTAXFILENUMBER,SUPPLIERREMARK,isEnabled,jsonField) VALUES
		(#supplierCode#,#supplierName#,#supplierAddress#,#supplierPhone#,
		#supplierFax#,#supplierZipCode#,#supplierTaxFileNumber#,#supplierRemark#,1,#jsonField#)
	</insert>
	<update id="updateSupplierBean"
		parameterClass="com.mydomain.bean.baseset.SupplierBean">
		UPDATE SUPPLIER 
		set
		SUPPLIERNAME=#supplierName#,
		SUPPLIERADDRESS=#supplierAddress#,
		SUPPLIERPHONE=#supplierPhone#, 
		SUPPLIERFAX=#supplierFax#,
		SUPPLIERZIPCODE=#supplierZipCode#,
		SUPPLIERTAXFILENUMBER=#supplierTaxFileNumber#,
		SUPPLIERREMARK=#supplierRemark#,
		jsonField=#jsonField#,
		ISENABLED=1
		WHERE
		SUPPLIERCODE=#supplierCode#
	</update>
	<delete id="deleteSupplierBean"
		parameterClass="com.mydomain.bean.baseset.SupplierBean">
		UPDATE SUPPLIER ISENABLE=0 WHERE SUPPLIERCODE=#supplierCode#
	</delete>
	<select id="selectAllSupplier" resultClass="com.mydomain.bean.baseset.SupplierBean">
		SELECT SUPPLIERCODE, SUPPLIERNAME, SUPPLIERADDRESS,
		SUPPLIERPHONE, SUPPLIERFAX, SUPPLIERZIPCODE,
		SUPPLIERTAXFILENUMBER, SUPPLIERREMARK FROM SUPPLIER
		where ISENABLED!=0
	</select>
</sqlMap>